<div class="container">
    <form #form="ngForm" (ngSubmit)="submitForm()">
        <h1>Template Driven Form</h1>
        <div class="name-container">
            <label>
                Nome <span title="Este campo é obrigatório.">*</span>
                <input 
                    type="text"
                    name="name" 
                    placeholder="Seu nome"
                    [(ngModel)]="user.name"
                    #inputName="ngModel"
                    required
                />
            </label>
            <span class="warning-input" [ngClass]="{
                    'visible': (inputName.invalid || inputName.value?.length <= 5) && inputName.touched
                    }">
                    Campo não preenchido ou nome curto demais
            </span>
        </div>
        <div class="email-container">
            <label>
                Email <span title="Este campo é obrigatório.">*</span>
                <input 
                    type="email" 
                    name="email"
                    placeholder="seuemail@email.com"
                    [(ngModel)]="user.email"
                    #inputEmail="ngModel"
                    required
                />
            </label>
            <span class="warning-input" [ngClass]="{
                'visible': (inputEmail.invalid || inputEmail.value?.length <= 5) && inputEmail.touched
                }">
                Campo não preenchido ou nome curto demais
        </span>
        </div>
    
        <div class="password-container">
            <label>
                Senha <span title="Este campo é obrigatório.">*</span>
                <input 
                    type="password" 
                    name="password"
                    placeholder="Sua senha"
                    [(ngModel)]="user.password"
                    #inputPassword="ngModel"
                    required
                />
            </label>
            <span class="warning-input" [ngClass]="{
                'visible': (inputPassword.value?.length <= 5) && inputPassword.touched
                }">
                Senha curta demais
        </span>
        </div>
    
        <div class="gender-container">
            <p>Sexo <span title="Este campo é obrigatório.">*</span></p>
            <label>
                <input type="radio" name="gender" #inputGender="ngModel" [(ngModel)]="user.gender" value="Masculino">
                Masculino
            </label>
            <label>
                <input type="radio" name="gender" #inputGender="ngModel" [(ngModel)]="user.gender" value="Feminino">
                Feminino
            </label>
        </div>
    
        <div class="skills-container">
            <p>Sua principal tecnologia <span title="Este campo é obrigatório.">*</span></p>
            <select name="selectTech" #selectTech="ngModel" [(ngModel)]="user.mainTech" required>
                <option value="" disabled>Selecione</option>
                @for(item of arrayTechs(); track item) {
                    <option [value]="item">{{ item }}</option>
                }
            </select>
        </div>
    
        <button type="submit" [disabled]="!form.valid">Enviar</button>
    </form>

    @if(formSended) {
        <div class="container-result">
            <h2>Seus dados:</h2>
            <tr>
                <td>Nome: {{user.name}}</td>
                <td>Email: {{user.email}}</td>
                <td>Senha: {{user.password}}</td>
                <td>Sexo: {{user.gender}}</td>
                <td>Principal tecnologia: {{user.mainTech}}</td>
            </tr>
        </div>
    }
    
    
    <p class="warning-text">
        lembrete: essas informações não serão enviadas para nenhum local. é somente uma pequena demonstração de formulário usando angular.
    </p>
    
    <button class="return-btn" routerLink="/home">Voltar</button>
</div>
